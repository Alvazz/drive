{"version":3,"sources":["webpack:///./src/views/myDrive.vue?c5ce","webpack:///./src/views/myDrive.vue?10fc","webpack:///./src/views/myDrive.vue","webpack:///src/views/myDrive.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","staticRenderFns","views_myDrivevue_type_script_lang_js_","myDrivevue_type_script_lang_js_","component","Object","componentNormalizer","__webpack_exports__","name","created","isMobile","$store","commit","_store_mutation_types__WEBPACK_IMPORTED_MODULE_3__","$route","params","dir","findDisk","disk","state","diskLoaded","text","href","disabled","push","payload","action","settings","_app_Api__WEBPACK_IMPORTED_MODULE_4__","user","userData","dispatch","path","undefined","methods","to","diskPath","Buffer","from","toString","splitedPath","split","count","length","joinDisk","join","encodePath","pop","concat","unshift","_disk","check","a","test","substr","navigator","userAgent","vendor","window","opera","routeUpdated","loadLimit","beforeRouteUpdate","next","_this","then","response","catch","err","console","log"],"mappings":"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","file":"js/chunk-f98cf3c6.742a864c.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"media-drive\"},[_c('media-browser'),_c('media-model'),_c('media-menu'),_c('media-alert'),_c('media-online-state')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./myDrive.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./myDrive.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./myDrive.vue?vue&type=template&id=bd8aadbc&\"\nimport script from \"./myDrive.vue?vue&type=script&lang=js&\"\nexport * from \"./myDrive.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div class=\"media-drive\">\n    <!-- Media browser -->\n    <media-browser></media-browser>\n\n    <!-- Add models -->\n    <media-model></media-model>\n\n    <!-- Add menu -->\n    <media-menu></media-menu>\n\n    <!-- Add snackbar -->\n    <media-alert></media-alert>\n\n    <!-- Add online state -->\n    <media-online-state></media-online-state>\n  </div>\n</template>\n\n<script>\nimport * as types from \"./../store/mutation-types\";\n\nimport { api } from './../app/Api';\n\nexport default {\n  name: \"lazy-drive\",\n  created() {\n    if (this.isMobile()) {\n      this.$store.commit(types.IS_MOBILE, true);\n    } else {\n      this.$store.commit(types.IS_MOBILE, false);\n    }\n\n    if (this.$route.params.dir) {\n      this.findDisk(this.$route);\n    } else {\n      const disk = {};\n      this.$store.state.diskLoaded = [];\n      disk.text = \"my-drive\";\n      disk.href = `/drive/u/0/my-drive/`;\n      disk.disabled = true;\n      this.$store.state.diskLoaded.push(disk);\n    }\n\n    const payload ={};\n\n    payload.action = 'get';\n    payload.settings = api.user.userData;\n\n    this.$store.dispatch(\"settings\", payload);\n\n    if (this.$route.name == \"my-drive\") {\n      const dir = this.$route.params.dir;\n      const path = this.$route.params.path;\n\n      if (dir !== undefined && path == \"folder\") {\n        this.$store.dispatch(\"getContents\", { path: dir });\n      } else {\n        this.$store.dispatch(\"getContents\", { path: \"my-drive\" });\n      }\n    }\n  },\n  methods: {\n    findDisk: function(to) {\n      if (to.params.dir) {\n        const diskPath = Buffer.from(to.params.dir, \"base64\").toString(\"ascii\");\n\n        const splitedPath = diskPath.split(\"/\");\n        this.$store.state.diskLoaded = [];\n\n        let count = 0;\n        while (splitedPath.length > 0) {\n          const disk = {};\n          const joinDisk = splitedPath.join(\"/\");\n          const encodePath = Buffer.from(joinDisk).toString(\"base64\");\n          const name = splitedPath.pop();\n\n          if (name != \"uploads\") {\n            disk.text = name;\n            disk.href = `/drive/u/0/folder/${encodePath}`;\n            disk.path = encodePath;\n          } else {\n            disk.text = \"my-drive\";\n            disk.href = `/drive/u/0/my-drive/`;\n          }\n          if (count == 0) {\n            disk.disabled = true;\n          }\n          ++count;\n          this.$store.state.diskLoaded.unshift(disk);\n        }\n      } else {\n        const disk = {};\n        this.$store.state.diskLoaded = [];\n        disk.text = \"my-drive\";\n        disk.href = `/drive/u/0/my-drive/`;\n        disk.disabled = true;\n        this.$store.state.diskLoaded.push(disk);\n      }\n    },\n    /* eslint-disable */\n    isMobile: function() {\n      var check = false;\n      (function(a) {\n        if (\n          /(android|bb\\d+|meego).+mobile|avantgo|bada\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(\n            a\n          ) ||\n          /1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\\-(n|u)|c55\\/|capi|ccwa|cdm\\-|cell|chtm|cldc|cmd\\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\\-s|devi|dica|dmob|do(c|p)o|ds(12|\\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\\-|_)|g1 u|g560|gene|gf\\-5|g\\-mo|go(\\.w|od)|gr(ad|un)|haie|hcit|hd\\-(m|p|t)|hei\\-|hi(pt|ta)|hp( i|ip)|hs\\-c|ht(c(\\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\\-(20|go|ma)|i230|iac( |\\-|\\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\\/)|klon|kpt |kwc\\-|kyo(c|k)|le(no|xi)|lg( g|\\/(k|l|u)|50|54|\\-[a-w])|libw|lynx|m1\\-w|m3ga|m50\\/|ma(te|ui|xo)|mc(01|21|ca)|m\\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\\-2|po(ck|rt|se)|prox|psio|pt\\-g|qa\\-a|qc(07|12|21|32|60|\\-[2-7]|i\\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\\-|oo|p\\-)|sdk\\/|se(c(\\-|0|1)|47|mc|nd|ri)|sgh\\-|shar|sie(\\-|m)|sk\\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\\-|v\\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\\-|tdg\\-|tel(i|m)|tim\\-|t\\-mo|to(pl|sh)|ts(70|m\\-|m3|m5)|tx\\-9|up(\\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\\-|your|zeto|zte\\-/i.test(\n            a.substr(0, 4)\n          )\n        )\n          check = true;\n      })(navigator.userAgent || navigator.vendor || window.opera);\n      return check;\n    },\n    /* eslint-enable */\n    routeUpdated: function(to, from) {\n      this.findDisk(to, from);\n      this.$store.commit(types.UNSELECT_ALL_BROWSER_ITEMS);\n      this.$store.state.loadLimit = 30;\n    }\n  },\n  beforeRouteUpdate(to, from, next) {\n    /* eslint-disable */\n    if (to.params.dir) {\n      this.$store\n        .dispatch(\"getContents\", { path: to.params.dir })\n        .then(response => {\n          this.routeUpdated(to, from);\n          next();\n        })\n        .catch(err => {\n          console.log(err);\n        });\n    } else {\n      this.$store\n        .dispatch(\"getContents\", { path: \"my-drive\" })\n        .then(response => {\n          this.routeUpdated(to, from);\n          next();\n        })\n        .catch(err => {\n          console.log(err);\n        });\n    }\n  }\n};\n</script>\n"],"sourceRoot":""}